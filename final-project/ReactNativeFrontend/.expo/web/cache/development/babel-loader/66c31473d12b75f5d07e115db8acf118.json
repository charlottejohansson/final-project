{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-native';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport MovieDetails from \"./MovieDetails\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar MovieDetailsSearch = function MovieDetailsSearch() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    movieDetails = _useState2[0],\n    setMovieDetails = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    movieSource = _useState4[0],\n    setMovieSource = _useState4[1];\n  var _useParams = useParams(),\n    movie_id = _useParams.movie_id;\n  var navigate = useNavigate();\n  var options = {\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': '9a7382db50msh6462aa86d1ccba6p1903c0jsn219a84a3cae4',\n      'X-RapidAPI-Host': 'watchmode.p.rapidapi.com'\n    }\n  };\n  useEffect(function () {\n    fetch(\"https://watchmode.p.rapidapi.com/title/\" + movie_id + \"/details/\", options).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setMovieDetails(json);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n    fetch(\"https://watchmode.p.rapidapi.com/title/\" + movie_id + \"/sources/\", options).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setMovieSource(json);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  }, [movie_id]);\n  var goBack = function goBack() {\n    navigate(-1);\n  };\n  return _jsxs(View, {\n    children: [movieSource.filter(function (movie) {\n      return movie.source_id && movie.source_id[0];\n    }).map(function (movie) {\n      return _jsx(View, {\n        children: _jsxs(Text, {\n          children: [\"Streaming site: \", movie.name]\n        })\n      }, movie.source_id);\n    }), _jsxs(View, {\n      children: [_jsx(Text, {\n        children: movieDetails.original_title\n      }), _jsx(Text, {\n        children: movieDetails.plot_overview\n      })]\n    }), _jsx(View, {\n      children: _jsx(Button, {\n        title: \"Go back\",\n        onPress: goBack\n      })\n    })]\n  });\n};\nexport default MovieDetailsSearch;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","MovieDetails","MovieDetailsSearch","movieDetails","setMovieDetails","movieSource","setMovieSource","movie_id","navigate","options","method","headers","fetch","then","response","json","catch","err","console","error","goBack","filter","movie","source_id","map","name","original_title","plot_overview"],"sources":["/Users/charlottejohansson/Desktop/final-project/final-project/ReactNativeFrontend/components/MovieDetailsSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-native';\nimport { StyleSheet, Text, View, Button, TextInput, Image } from \"react-native\";\nimport MovieDetails from './MovieDetails';\n\nconst MovieDetailsSearch = () => {\n\n     const [ movieDetails, setMovieDetails ] = useState([]);\n     const [ movieSource, setMovieSource ] = useState([]);\n     const { movie_id } = useParams();\n     const navigate = useNavigate();\n\n     const options = {\n      method: 'GET',\n      headers: {\n        'X-RapidAPI-Key': '9a7382db50msh6462aa86d1ccba6p1903c0jsn219a84a3cae4',\n        'X-RapidAPI-Host': 'watchmode.p.rapidapi.com'\n      }\n    };\n    \n    \n    useEffect(() => {\n      fetch(`https://watchmode.p.rapidapi.com/title/${movie_id}/details/`, options)\n        .then(response => response.json())\n        .then((json) => {setMovieDetails(json)})\n        .catch(err => console.error(err));\n  \n      fetch(`https://watchmode.p.rapidapi.com/title/${movie_id}/sources/`, options)\n        .then(response => response.json())\n        .then((json) => {setMovieSource(json)})\n        .catch(err => console.error(err));\n    }, [movie_id])\n\n    \n  \n        const goBack = () => {\n          navigate(-1);\n        };\n\n        \n      return (\n          <View>\n           {movieSource\n           .filter(movie => movie.source_id && movie.source_id[0])\n           .map(movie => (\n              <View key={movie.source_id}>\n                <Text>\n                  Streaming site: {movie.name}\n                </Text>\n              </View>\n            ))}\n            <View>\n            <Text>{movieDetails.original_title}</Text>\n              <Text>{movieDetails.plot_overview}</Text>\n            </View>\n            <View>\n            <Button title=\"Go back\" onPress={goBack}></Button>\n          </View>\n      </View>\n        \n        )\n  }\n\n\nexport default MovieDetailsSearch;\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,qBAAqB;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAE7D,OAAOC,YAAY;AAAuB;AAAA;AAE1C,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,GAAS;EAE5B,gBAA0CL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA9CM,YAAY;IAAEC,eAAe;EACrC,iBAAwCP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA5CQ,WAAW;IAAEC,cAAc;EACnC,iBAAqBN,SAAS,EAAE;IAAxBO,QAAQ,cAARA,QAAQ;EAChB,IAAMC,QAAQ,GAAGT,WAAW,EAAE;EAE9B,IAAMU,OAAO,GAAG;IACfC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,gBAAgB,EAAE,oDAAoD;MACtE,iBAAiB,EAAE;IACrB;EACF,CAAC;EAGDb,SAAS,CAAC,YAAM;IACdc,KAAK,6CAA2CL,QAAQ,gBAAaE,OAAO,CAAC,CAC1EI,IAAI,CAAC,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CACjCF,IAAI,CAAC,UAACE,IAAI,EAAK;MAACX,eAAe,CAACW,IAAI,CAAC;IAAA,CAAC,CAAC,CACvCC,KAAK,CAAC,UAAAC,GAAG;MAAA,OAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAAA,EAAC;IAEnCL,KAAK,6CAA2CL,QAAQ,gBAAaE,OAAO,CAAC,CAC1EI,IAAI,CAAC,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CACjCF,IAAI,CAAC,UAACE,IAAI,EAAK;MAACT,cAAc,CAACS,IAAI,CAAC;IAAA,CAAC,CAAC,CACtCC,KAAK,CAAC,UAAAC,GAAG;MAAA,OAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAAA,EAAC;EACrC,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;EAIV,IAAMa,MAAM,GAAG,SAATA,MAAM,GAAS;IACnBZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACd,CAAC;EAGH,OACI,MAAC,IAAI;IAAA,WACHH,WAAW,CACXgB,MAAM,CAAC,UAAAC,KAAK;MAAA,OAAIA,KAAK,CAACC,SAAS,IAAID,KAAK,CAACC,SAAS,CAAC,CAAC,CAAC;IAAA,EAAC,CACtDC,GAAG,CAAC,UAAAF,KAAK;MAAA,OACP,KAAC,IAAI;QAAA,UACH,MAAC,IAAI;UAAA,+BACcA,KAAK,CAACG,IAAI;QAAA;MACtB,GAHEH,KAAK,CAACC,SAAS,CAInB;IAAA,CACR,CAAC,EACF,MAAC,IAAI;MAAA,WACL,KAAC,IAAI;QAAA,UAAEpB,YAAY,CAACuB;MAAc,EAAQ,EACxC,KAAC,IAAI;QAAA,UAAEvB,YAAY,CAACwB;MAAa,EAAQ;IAAA,EACpC,EACP,KAAC,IAAI;MAAA,UACL,KAAC,MAAM;QAAC,KAAK,EAAC,SAAS;QAAC,OAAO,EAAEP;MAAO;IAAU,EAC7C;EAAA,EACJ;AAGX,CAAC;AAGH,eAAelB,kBAAkB"},"metadata":{},"sourceType":"module"}