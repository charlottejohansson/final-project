{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-native';\nimport { Typography, Containers, Spacing, Colors } from \"../styles\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport MovieDetails from \"./MovieDetails\";\nimport { Link } from 'react-router-native';\nimport { palette } from \"../styles/colors\";\nimport { spacing } from \"../styles/spacing\";\nimport { size, lineheight } from \"../styles/typography\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Heading } from \"../styles/heading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MovieDetailsSearch = function MovieDetailsSearch() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    movieDetails = _useState2[0],\n    setMovieDetails = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    movieSource = _useState4[0],\n    setMovieSource = _useState4[1];\n  var _useParams = useParams(),\n    movie_id = _useParams.movie_id;\n  var navigate = useNavigate();\n  var options = {\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': '9a7382db50msh6462aa86d1ccba6p1903c0jsn219a84a3cae4',\n      'X-RapidAPI-Host': 'watchmode.p.rapidapi.com'\n    }\n  };\n  var filterResponse = function filterResponse(json) {\n    var filterList = [];\n    json.forEach(function (element, index) {\n      var hasExistingElement = filterList.find(function (item) {\n        return item.source_id == element.source_id;\n      });\n      if (!hasExistingElement) filterList.push(element);\n    });\n    return filterList;\n  };\n  useEffect(function () {\n    fetch(\"https://watchmode.p.rapidapi.com/title/\" + movie_id + \"/details/\", options).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setMovieDetails(json);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n    fetch(\"https://watchmode.p.rapidapi.com/title/\" + movie_id + \"/sources/\", options).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      var filterList = filterResponse(json);\n      setMovieSource(filterList);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  }, [movie_id]);\n  var goBack = function goBack() {\n    navigate(-1);\n  };\n  return _jsxs(View, {\n    style: styles.outerContainer,\n    children: [_jsx(Image, {\n      style: {\n        width: '100%',\n        height: '100%',\n        position: \"absolute\"\n      },\n      source: {\n        uri: \"\" + movieDetails.backdrop\n      }\n    }), _jsx(View, {\n      style: styles.overlay\n    }), _jsx(Heading, {}), _jsxs(ScrollView, {\n      style: styles.innerContainer,\n      children: [_jsx(Image, {\n        style: {\n          width: 240,\n          height: 350,\n          borderRadius: 10,\n          marginBottom: 15\n        },\n        source: {\n          uri: \"\" + movieDetails.backdrop\n        }\n      }), _jsx(Text, {\n        style: styles.h2,\n        children: movieDetails.original_title\n      }), _jsx(Text, {\n        style: styles.text,\n        children: movieDetails.plot_overview\n      }), _jsx(View, {\n        style: styles.tagContainer,\n        children: movieSource.map(function (movie) {\n          return _jsx(View, {\n            style: styles.tags,\n            children: _jsx(Text, {\n              style: {\n                color: \"white\"\n              },\n              children: movie.name\n            })\n          }, movie.source_id);\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsx(Button, {\n        title: \"Go back\",\n        onPress: goBack\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: _objectSpread({}, Containers.outerContainer),\n  tagContainer: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    marginTop: 20,\n    width: 350\n  },\n  tags: {\n    backgroundColor: palette.darkPurple,\n    width: \"auto\",\n    padding: 5,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: palette.darkPurple,\n    marginRight: 10,\n    marginBottom: 10\n  },\n  outerContainer: {\n    flex: 1,\n    backgroundColor: palette.xiketic,\n    alignItems: 'center'\n  },\n  innerContainer: {\n    height: \"80%\",\n    marginHorizontal: 20\n  },\n  headerContainer: {\n    paddingBottom: 20,\n    width: \"100%\"\n  },\n  h2: _objectSpread(_objectSpread({}, Typography.h2), {}, {\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  }),\n  h3: _objectSpread(_objectSpread({}, Typography.h3), {}, {\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  }),\n  text: {\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  },\n  overlay: {\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: 0,\n    left: 0\n  },\n  linearGradient: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderRadius: 5\n  }\n});\nexport default MovieDetailsSearch;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Typography","Containers","Spacing","Colors","MovieDetails","Link","palette","spacing","size","lineheight","LinearGradient","Heading","MovieDetailsSearch","movieDetails","setMovieDetails","movieSource","setMovieSource","movie_id","navigate","options","method","headers","filterResponse","json","filterList","forEach","element","index","hasExistingElement","find","item","source_id","push","fetch","then","response","catch","err","console","error","goBack","styles","outerContainer","width","height","position","uri","backdrop","overlay","innerContainer","borderRadius","marginBottom","h2","original_title","text","plot_overview","tagContainer","map","movie","tags","color","name","StyleSheet","create","container","flexDirection","flexWrap","marginTop","backgroundColor","darkPurple","padding","borderWidth","borderColor","marginRight","flex","xiketic","alignItems","marginHorizontal","headerContainer","paddingBottom","lavenderBlush","h3","top","left","linearGradient","paddingLeft","paddingRight"],"sources":["/Users/charlottejohansson/Desktop/final-project/final-project/ReactNativeFrontend/components/MovieDetailsSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-native';\nimport { Typography, Containers, Spacing, Colors} from '../styles'\nimport { StyleSheet, Text, View, Button, TextInput, Image, ScrollView } from \"react-native\";\nimport MovieDetails from './MovieDetails';\nimport { Link } from 'react-router-native';\nimport { palette } from \"../styles/colors\";\nimport { spacing } from \"../styles/spacing\";\nimport { size, lineheight } from '../styles/typography'\nimport { LinearGradient } from 'expo-linear-gradient'\nimport { Heading } from '../styles/heading';\n\nconst MovieDetailsSearch = () => {\n\n     const [ movieDetails, setMovieDetails ] = useState([]);\n     const [ movieSource, setMovieSource ] = useState([]);\n     const { movie_id } = useParams();\n     const navigate = useNavigate();\n     \n\n     const options = {\n      method: 'GET',\n      headers: {\n        'X-RapidAPI-Key': '9a7382db50msh6462aa86d1ccba6p1903c0jsn219a84a3cae4',\n        'X-RapidAPI-Host': 'watchmode.p.rapidapi.com'\n      }\n    };\n  const filterResponse = (json) => {\n    let filterList = []\n\n    json.forEach((element, index) => {\n      const hasExistingElement = filterList.find((item) => \n        item.source_id == element.source_id)\n\n      if (!hasExistingElement)\n        filterList.push(element)  \n    });\n    return filterList\n  }\n\n    useEffect(() => {\n    fetch(`https://watchmode.p.rapidapi.com/title/${movie_id}/details/`, options)\n      .then(response => response.json())\n      .then((json) => {setMovieDetails(json)})\n      .catch(err => console.error(err));\n\n    fetch(`https://watchmode.p.rapidapi.com/title/${movie_id}/sources/`, options)\n      .then(response => response.json())\n      .then((json) => {\n        const filterList = filterResponse(json)\n        setMovieSource(filterList)})\n      .catch(err => console.error(err));\n  }, [movie_id])\n\n      const goBack = () => {\n        navigate(-1);\n      };\n\n\n    return (\n      <View style={styles.outerContainer}>\n        <Image\n            style={{width: '100%', height: '100%', position: \"absolute\"}}\n            source= {{uri: `${movieDetails.backdrop}` }}/>\n          <View style={styles.overlay}/>\n        <Heading/>\n        <ScrollView style={styles.innerContainer}>\n        <Image\n          style={{width: 240, height: 350, borderRadius: 10, marginBottom: 15}}\n            source= {{uri: `${movieDetails.backdrop}` }}/>\n            <Text style={styles.h2}>{movieDetails.original_title}</Text>\n            <Text style={styles.text}>{movieDetails.plot_overview}</Text>\n        <View style={styles.tagContainer}>\n            {movieSource.map(movie => (\n              <View key={movie.source_id} style={styles.tags}>\n                <Text style = {{color: \"white\"}} >{movie.name}</Text>\n              </View> \n            ))}\n        </View> \n      </ScrollView>\n\n      <View>\n          <Button title=\"Go back\" onPress={goBack}></Button>\n        </View>\n      </View>\n      )\n    } \n\nconst styles = StyleSheet.create({\n  container: {\n    ...Containers.outerContainer,\n  },\n\n  tagContainer: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    marginTop: 20,\n    width: 350,\n  },\n\n  tags:{\n    backgroundColor:  palette.darkPurple,\n    width: \"auto\",\n    padding: 5,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: palette.darkPurple,\n    marginRight: 10,\n    marginBottom: 10,\n  },\n\n  outerContainer: {\n    flex: 1,\n    backgroundColor: palette.xiketic,\n    alignItems: 'center',\n  },\n\n  innerContainer: {\n    height: \"80%\",\n    marginHorizontal: 20,\n  },\n\n  headerContainer: {\n    paddingBottom: 20,\n    width: \"100%\",\n  },\n\n  h2: {\n    ...Typography.h2,\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  },\n\n  h3: {\n    ...Typography.h3,\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  },\n\n  text: {\n    color: palette.lavenderBlush,\n    width: 350,\n    marginBottom: 10\n  },\n  overlay: {\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\", \n    width: \"100%\", \n    height: \"100%\",\n    position: \"absolute\",\n    top: 0, \n    left: 0,\n  },\n\n  linearGradient: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderRadius: 5\n  },\n\n  \n})\n\n\n\nexport default MovieDetailsSearch;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}