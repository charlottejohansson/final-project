{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector, Provider } from \"react-redux\";\nimport profiles from \"../reducers/profiles.js\";\nimport { API_URL } from \"../utils/utils\";\nimport { useNavigate } from \"react-router-native\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Colors, Typography, Containers } from \"../styles\";\nimport { spacing } from \"../styles/spacing.js\";\nimport { Heading } from \"../styles/heading\";\nimport { PrimaryBtn } from \"../styles/buttons\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport user from \"../reducers/user\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ProfilePage = function ProfilePage() {\n  var profilesItems = useSelector(function (store) {\n    return store.profiles.items;\n  });\n  var dispatch = useDispatch();\n  var accessToken = useSelector(function (store) {\n    return store.user.accessToken;\n  });\n  var navigate = useNavigate();\n  useEffect(function () {\n    if (!accessToken) {\n      navigate(\"/login\");\n    }\n  }, []);\n  useEffect(function () {\n    var options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": accessToken\n      }\n    };\n    fetch(API_URL(\"profiles\"), options).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      if (data.success) {\n        dispatch(profiles.actions.setItems(data.response));\n        dispatch(profiles.actions.setError(null));\n      } else {\n        dispatch(profiles.actions.setItems([]));\n        dispatch(profiles.actions.setError(data.response));\n      }\n    });\n  }, []);\n  return _jsxs(View, {\n    style: _objectSpread({}, Containers.outerContainer),\n    children: [_jsx(Heading, {}), _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.h2,\n        children: \"Profile functions\"\n      }), _jsx(Text, {\n        style: styles.h2,\n        children: \"coming soon\"\n      }), _jsx(FontAwesome5, {\n        style: {\n          marginTop: 30\n        },\n        name: \"gift\",\n        size: 100,\n        color: Colors.palette.lavenderBlush\n      })]\n    }), _jsx(PrimaryBtn, {\n      title: \"Sign out\",\n      onPress: function onPress() {\n        navigate(\"/\");\n        dispatch(user.actions.setAccessToken(null));\n      },\n      type: \"submit\"\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n    alignItems: 'center',\n    paddingLeft: spacing.M,\n    paddingRight: spacing.M,\n    opacity: \"40%\",\n    height: \"70%\"\n  },\n  h2: _objectSpread(_objectSpread({}, Typography.h2), {}, {\n    color: Colors.palette.lavenderBlush\n  }),\n  text: _objectSpread(_objectSpread({}, Typography.body2), {}, {\n    color: Colors.palette.lavenderBlush\n  }),\n  textInput: {\n    color: Colors.palette.lavenderBlush\n  }\n});\nexport default ProfilePage;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Provider","profiles","API_URL","useNavigate","Colors","Typography","Containers","spacing","Heading","PrimaryBtn","FontAwesome5","user","ProfilePage","profilesItems","store","items","dispatch","accessToken","navigate","options","method","headers","fetch","then","res","json","data","success","actions","setItems","response","setError","outerContainer","styles","container","h2","marginTop","palette","lavenderBlush","setAccessToken","StyleSheet","create","justifyContent","alignItems","paddingLeft","M","paddingRight","opacity","height","color","text","body2","textInput"],"sources":["/Users/charlottejohansson/Desktop/final-project/final-project/ReactNativeFrontend/components/ProfilePage.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector, Provider } from \"react-redux\";\nimport profiles from \"../reducers/profiles.js\";\nimport { API_URL } from '../utils/utils'\nimport { useNavigate } from \"react-router-native\";\nimport { StyleSheet, Text, View, Button } from \"react-native\";\nimport { Colors, Typography, Containers } from '../styles'\nimport { spacing } from \"../styles/spacing.js\";\nimport { Heading } from '../styles/heading'\nimport { PrimaryBtn} from \"../styles/buttons\";\nimport { FontAwesome5 } from '@expo/vector-icons'; \nimport user from '../reducers/user';\n\n\nconst ProfilePage = () => {\n\n    const profilesItems = useSelector((store) => store.profiles.items);\n    const dispatch = useDispatch();\n    const accessToken = useSelector((store) => store.user.accessToken);\n    const navigate = useNavigate();\n\n    useEffect( () => {\n        if (!accessToken) {\n            navigate(\"/login\");\n        }\n    }, []);\n    \n    useEffect(() => {\n        const options = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": accessToken\n            }\n        }\n\n        fetch(API_URL(\"profiles\"), options)\n            .then(res => res.json())\n            .then(data => {\n                if(data.success) {\n                    dispatch(profiles.actions.setItems(data.response));\n                    dispatch(profiles.actions.setError(null));\n                } else {\n                    dispatch(profiles.actions.setItems([]));\n                    dispatch(profiles.actions.setError(data.response));\n                }\n            })\n    }, []);\n\n    return (\n        <View style={{...Containers.outerContainer}}>\n            <Heading/>\n            <View style={styles.container}>\n                <Text style={styles.h2}>Profile functions</Text>\n                <Text style={styles.h2}>coming soon</Text>\n                <FontAwesome5 \n                    style={{marginTop: 30}}\n                    name=\"gift\" \n                    size={100} \n                    color={Colors.palette.lavenderBlush} /> \n            </View>\n            <PrimaryBtn \n                    title=\"Sign out\"\n                    onPress={() => { navigate(\"/\"); dispatch(user.actions.setAccessToken(null));}} //doesn't work to sign in again, you need to reload the page\n                    type=\"submit\"\n                />\n        </View>\n\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        justifyContent: \"center\",\n        alignItems: 'center',\n        paddingLeft: spacing.M,\n        paddingRight: spacing.M,\n        opacity: \"40%\",\n        height: \"70%\",\n    },\n\n    h2: {\n        ...Typography.h2,\n        color: Colors.palette.lavenderBlush,\n    },\n  \n    text: {\n      ...Typography.body2,\n      color: Colors.palette.lavenderBlush,\n    },\n  \n    textInput: {\n      color: Colors.palette.lavenderBlush,\n    }\n});\n\n\nexport default ProfilePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}